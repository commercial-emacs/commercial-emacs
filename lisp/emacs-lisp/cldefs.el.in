(require 'gv)

(defconst cldefs--cl-lib-functions
  (let (load-history)
    (require 'cl-lib)
    (require 'cl-macs)
    (require 'cl-seq)
    (mapcan
     (lambda (defines)
       (delq nil (mapcar
                  (lambda (define)
                    (when (memq (car-safe define) '(defun t))
                      (cdr define)))
                  defines)))
     (mapcar #'cdr load-history)))
  "Flag user code which uses cl functions without first requiring
cl-lib.  (Bug#30635)")
